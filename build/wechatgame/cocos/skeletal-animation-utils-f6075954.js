System.register(["./bits-b8bc8b22.js","./math-base-02e87bf8.js"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.l},function(e){n=e.e}],execute:function(){e({a:function(e,t){for(var r,o=null,i=0;e!==t;){var u=e.uuid;if(l.has(u)){o=l.get(u);break}o={node:e,local:new n,world:new n,stamp:-1,parent:null},l.set(u,o),a[i++]=o,e=e.parent,o=null}for(;i>0;)r=a[--i],a[i]=null,r.parent=o,o=r;return o},b:function(e,t){for(var r=0,o=n.IDENTITY;e;){if(e.stamp===t||e.stamp+1===t&&!e.node.hasChangedFlags){o=e.world,e.stamp=t;break}e.stamp=t,a[r++]=e,e=e.parent}for(;r>0;){e=a[--r],a[r]=null;var l=e.node;n.fromRTS(e.local,l.rotation,l.position,l.scale),o=n.multiply(e.world,o,e.local)}return o},c:function(e,t){for(var n=e,r="";null!==n&&n!==t;)r=n.name+"/"+r,n=n.parent;return r.slice(0,-1)},d:function(e){for(var t=l.get(e.uuid)||null;t;)l.delete(t.node.uuid),t=t.parent},g:function(e,t,r){for(n.identity(r);e!==t;)n.fromRTS(o,e.rotation,e.position,e.scale),n.multiply(r,o,r),e=e.parent;return r}});var r=e("B",Symbol("BakeNodeCurves"));e("S",function(){function e(){}return e.getOrExtract=function(n){var o=e.pool.get(n);if(!o||o.samples!==n.sample){o&&t.director.root.dataPoolManager.releaseAnimationClip(n);var a=Math.ceil(n.sample*n.duration)+1,l=n.sample;o=n[r](0,l,a),e.pool.set(n,o)}return o},e.destroy=function(t){e.pool.delete(t)},e}()).pool=new Map;var o=new n,a=[],l=new Map}}}));
