System.register(["./bits-b8bc8b22.js","./buffer-barrier-17698e09.js","./scene-asset-10397f71.js","./math-base-02e87bf8.js","./index-f2c2eec3.js","./pipeline-state-manager-f4a950fe.js","./deprecated-dacf9914.js","./deprecated-8c84be32.js","./touch-37ec7c16.js","./game-1e6d0834.js"],(function(e){"use strict";var r,t,a,n,o,i,s,u,l,g,p,d,c,f,m,S,b,T,h,y,v,C,I,D,P,R,A,B,_,F,E,M,w,O,L,x,N,j,V,z,U,H,G,k,W,Q,q,K,X,Y,J,Z,$,ee,re,te,ae,ne,oe,ie,se,ue,le,ge,pe,de,ce,fe,me,Se,be,Te,he,ye,ve,Ce,Ie,De,Pe,Re,Ae,Be,_e,Fe,Ee,Me,we,Oe,Le,xe,Ne,je,Ve,ze,Ue,He,Ge,ke,We,Qe,qe,Ke,Xe,Ye,Je,Ze,$e,er,rr,tr,ar,nr,or,ir,sr,ur,lr,gr,pr,dr,cr,fr,mr,Sr,br,Tr,hr,yr,vr,Cr,Ir,Dr,Pr,Rr,Ar,Br,_r,Fr,Er,Mr,wr,Or,Lr,xr,Nr,jr,Vr,zr,Ur,Hr,Gr,kr,Wr,Qr,qr,Kr,Xr,Yr,Jr,Zr,$r,et,rt,tt,at,nt,ot,it,st,ut,lt,gt,pt,dt,ct,ft,mt,St,bt,Tt,ht,yt,vt,Ct,It,Dt,Pt,Rt,At,Bt,_t,Ft,Et,Mt,wt,Ot,Lt,xt,Nt,jt,Vt,zt,Ut,Ht,Gt,kt,Wt,Qt,qt,Kt,Xt,Yt,Jt,Zt,$t,ea,ra,ta,aa,na,oa,ia,sa,ua,la,ga,pa,da,ca,fa;return{setters:[function(d){r=d.l,t=d.a,a=d.w,n=d.e,o=d.b,i=d._,s=d.c,u=d.d,l=d.f,g=d.g,p=d.h,d.i;var c={};c.BitMask=d.B,c.CCBoolean=d.r,c.CCClass=d.C,c.CCFloat=d.q,c.CCInteger=d.p,c.CCString=d.s,c.DebugMode=d.D,c.Enum=d.E,c.Settings=d.S,c.VERSION=d.j,c.ValueType=d.V,c.assert=d.b,c.assertID=d.g,c.bits=d.k,c.ccenum=d.m,c.cclegacy=d.l,c.debug=d.t,c.error=d.e,c.errorID=d.f,c.getError=d.x,c.isDisplayStats=d.u,c.js=d.n,c.log=d.a,c.logID=d.c,c.macro=d.y,c.misc=d.o,c.setDisplayStats=d.v,c.settings=d.z,c.warn=d.w,c.warnID=d.d,e(c)},function(r){d=r.P,c=r.R,f=r.C,m=r.D,S=r.B,b=r.a,T=r.O,h=r.S,y=r.A,v=r.b,C=r.F,I=r.c,D=r.d,P=r.T,R=r.e,A=r.f,B=r.M,_=r.g,F=r.h,E=r.i,M=r.j,w=r.k,O=r.l,L=r.V,x=r.m,N=r.n,j=r.o,V=r.p,z=r.q,U=r.r,H=r.s,G=r.t,k=r.L,W=r.u,Q=r.v,q=r.w,K=r.x,X=r.y,Y=r.z,J=r.E,Z=r.G,$=r.H,ee=r.I,re=r.J,te=r.Q,ae=r.K,ne=r.N,oe=r.U,ie=r.W,se=r.X,ue=r.Y,le=r.Z,ge=r._,pe=r.$,de=r.a0,ce=r.a1,fe=r.a2,me=r.a3,Se=r.a4,be=r.a5,Te=r.a6,he=r.a7,ye=r.a8,ve=r.a9,Ce=r.aa,Ie=r.ab,De=r.ac,Pe=r.ad,Re=r.ae,Ae=r.af,Be=r.ag,_e=r.ah,Fe=r.ai,Ee=r.aj,Me=r.ak,we=r.al,Oe=r.am,Le=r.an,xe=r.ao,Ne=r.ap,je=r.aq,Ve=r.ar,ze=r.as,Ue=r.at,He=r.au,Ge=r.av,ke=r.aw,We=r.ax,Qe=r.ay,qe=r.az,Ke=r.aA,Xe=r.aB,Ye=r.aC,Je=r.aD,Ze=r.aE,$e=r.aF,er=r.aG,rr=r.aH,tr=r.aI,ar=r.aJ,nr=r.aK,or=r.aL,ir=r.aM,sr=r.aN,ur=r.aO,lr=r.aP,gr=r.aQ,pr=r.aR,dr=r.aS,cr=r.aT,fr=r.aU,mr=r.aV,Sr=r.aW,br=r.aX,Tr=r.aY,hr=r.aZ,yr=r.a_,vr=r.a$,Cr=r.b0,Ir=r.b1,Dr=r.b2,Pr=r.b3,Rr=r.b4,Ar=r.b5,Br=r.b6,_r=r.b7,Fr=r.b8,Er=r.b9,Mr=r.ba,wr=r.bb,Or=r.bc,Lr=r.bd,xr=r.be,Nr=r.bf,jr=r.bg,Vr=r.bh,zr=r.bi,Ur=r.bj,Hr=r.bk,Gr=r.bl;var t={};t.AsyncDelegate=r.bs,t.CCObject=r.bn,t.CachedArray=r.C,t.EventTarget=r.bq,t.Eventify=r.br,t.Pool=r.P,t.RecyclePool=r.R,t.editorExtrasTag=r.bp,t.isValid=r.bo,t.murmurhash2_32_gc=r.bm,e(t)},function(r){kr=r.j,Wr=r.e,Qr=r.m,qr=r.b,Kr=r.d,Xr=r.c,Yr=r.a,Jr=r._,Zr=r.s,$r=r.g,et=r.C,rt=r.f,tt=r.h,at=r.i,nt=r.k,ot=r.l,it=r.T,st=r.S,ut=r.n,lt=r.A,gt=r.E,pt=r.o,dt=r.p,ct=r.q,ft=r.P,mt=r.r,St=r.t,bt=r.u,Tt=r.F,ht=r.v,yt=r.w,vt=r.x,Ct=r.y,It=r.z,Dt=r.B,Pt=r.D,Rt=r.G,At=r.H,Bt=r.I,_t=r.J,Ft=r.K,Et=r.L,Mt=r.M,wt=r.N,Ot=r.O,Lt=r.Q,xt=r.R;var t={};t.Acceleration=r.aU,t.AmbientInfo=r.av,t.Asset=r.a2,t.AssetManager=r.al,t.BaseNode=r.an,t.BufferAsset=r.a3,t.Camera=r.aJ,t.CameraComponent=r.aJ,t.CompactValueTypeArray=r.$,t.Component=r.aI,t.DEFAULT_OCTREE_DEPTH=r.aB,t.DEFAULT_WORLD_MAX_POS=r.aA,t.DEFAULT_WORLD_MIN_POS=r.az,t.Details=r.X,t.EffectAsset=r.ac,t.EventHandler=r.aH,t.ExtrapolationMode=r.aP,t.FogInfo=r.ax,t.ImageAsset=r.a9,t.Input=r.aW,t.InstancedBuffer=r.ai,t.JavaScript=r.ag,t.JsonAsset=r.a8,t.Material=r.ad,t.MissingScript=r.aG,t.ModelRenderer=r.aK,t.Node=r.ao,t.NodeActivator=r.ar,t.NodeEventType=r.au,t.NodeSpace=r.as,t.ObjectCurve=r.aT,t.OctreeInfo=r.aC,t.Prefab=r.a4,t.PrivateNode=r.aE,t.QuatCurve=r.aR,t.QuatInterpolationMode=r.aS,t.RealCurve=r.aN,t.RealInterpolationMode=r.aO,t.RenderTexture=r.ae,t.RenderableComponent=r.aK,t.Renderer=r.aL,t.RenderingSubMesh=r.a5,t.Scene=r.ap,t.SceneAsset=r.a6,t.SceneGlobals=r.aD,t.Script=r.af,t.ShadowsInfo=r.ay,t.SkyboxInfo=r.aw,t.System=r.aF,t.SystemEvent=r.aY,t.TangentWeightMode=r.aQ,t.TextAsset=r.a7,t.Texture2D=r.aa,t.TextureCube=r.ab,t.TransformBit=r.at,t.TypeScript=r.ah,t._decorator=r.V,t.assetManager=r.ak,t.builtinResMgr=r.aM,t.deserialize=r.W,t.deserializeTag=r.a0,t.find=r.aq,t.getPhaseID=r.aj,t.getSerializationMetadata=r.Y,t.input=r.aV,t.instantiate=r.Z,t.path=r.U,t.resources=r.am,t.serializeTag=r.a1,t.systemEvent=r.aX,e(t)},function(r){var t={};t.AffineTransform=r.A,t.Color=r.C,t.EPSILON=r.E,t.MATH_FLOAT_ARRAY=r.I,t.Mat3=r.M,t.Mat4=r.e,t.MathBase=r.J,t.Quat=r.Q,t.Rect=r.R,t.Size=r.S,t.Vec2=r.V,t.Vec3=r.a,t.Vec4=r.c,t.__checkObsoleteInNamespace__=r.T,t.__checkObsolete__=r._,t.absMax=r.G,t.absMaxComponent=r.F,t.approx=r.h,t.clamp=r.i,t.clamp01=r.j,t.color=r.f,t.deprecateModuleExportedName=r.P,t.enumerableProps=r.H,t.equals=r.g,t.inverseLerp=r.D,t.lerp=r.l,t.markAsWarning=r.O,t.mat4=r.m,t.nextPow2=r.y,t.pingPong=r.B,t.pseudoRandom=r.u,t.pseudoRandomRange=r.w,t.pseudoRandomRangeInt=r.x,t.quat=r.q,t.random=r.n,t.randomRange=r.o,t.randomRangeInt=r.p,t.rect=r.r,t.removeProperty=r.N,t.repeat=r.z,t.replaceProperty=r.L,t.setDefaultLogTimes=r.K,t.size=r.s,t.toDegree=r.k,t.toRadian=r.t,t.v2=r.v,t.v3=r.b,t.v4=r.d,e(t)},function(r){var t={};t.AntiAliasing=r.f,t.AssetLibrary=r.A,t.CCLoader=r.C,t.DeferredPipelineBuilder=r.D,t.ForwardPipelineBuilder=r.F,t.buildShadowPass=r.b,t.buildShadowPasses=r.c,t.geometry=r.g,t.getCameraUniqueID=r.d,t.getLoadOpOfClearFlag=r.e,t.getRenderArea=r.a,t.loader=r.l,t.math=r.m,t.url=r.u,t.validPunctualLightsCulling=r.v,e(t)},function(r){Nt=r.L,jt=r.R,Vt=r.D,zt=r.d;var t={};t.Layers=r.c,t.PipelineStateManager=r.P,t.pipeline=r.b,t.screen=r.s,t.sys=r.a,e(t)},function(r){Ut=r.M,Ht=r.a,Gt=r.S,kt=r.O,Wt=r.C,Qt=r.L,qt=r.n,Kt=r.b,Xt=r.D,Yt=r.c,Jt=r.d,Zt=r.R;var t={};t.BloomStage=r.B,t.DebugView=r.H,t.DeferredPipeline=r.t,t.Director=r.j,t.ForwardFlow=r.r,t.ForwardPipeline=r.F,t.ForwardStage=r.s,t.GbufferStage=r.G,t.LightingStage=r.w,t.MainFlow=r.u,t.PipelineEventProcessor=r.A,t.PipelineEventType=r.E,t.PipelineSceneData=r.q,t.PostProcessStage=r.x,t.PrefabLink=r.P,t.RenderFlow=r.o,t.RenderPipeline=r.m,t.RenderStage=r.p,t.ResolutionPolicy=r.h,t.Root=r.e,t.Scheduler=r.i,t.ShadowFlow=r.y,t.ShadowStage=r.z,t.View=r.V,t.WorldNode3DToLocalNodeUI=r.W,t.WorldNode3DToWorldNodeUI=r.f,t.convertUtils=r.g,t.createDefaultPipeline=r.l,t.director=r.k,t.view=r.v,e(t)},function(e){$t=e.R,ea=e.P,ra=e.n,ta=e.T,aa=e.a,na=e.N,oa=e.b,ia=e.c,sa=e.d,ua=e.e,la=e.f,ga=e.g,pa=e.A,da=e.h,ca=e.C,fa=e.V},function(r){var t={};t.Event=r.E,t.EventAcceleration=r.a,t.EventGamepad=r.e,t.EventHMD=r.g,t.EventHandle=r.f,t.EventKeyboard=r.b,t.EventMouse=r.c,t.EventTouch=r.d,t.KeyCode=r.K,t.SystemEventType=r.S,t.Touch=r.T,e(t)},function(r){var t={};t.Game=r.G,t.game=r.g,e(t)}],execute:function(){e("memop",Object.freeze({__proto__:null,Pool:d,RecyclePool:c,CachedArray:f})),r.log=t,r.warn=a,r.error=n,r.assert=o,r._throw=i,r.logID=s,r.warnID=u,r.errorID=l,r.assertID=g,r.debug=p,r.path={join:kr,extname:Wr,mainFileName:Qr,basename:qr,dirname:Kr,changeExtname:Xr,changeBasename:Yr,_normalize:Jr,stripSep:Zr,get sep(){return $r()}};var ma=0,Sa={};e("gfx",Object.freeze({__proto__:null,DescriptorSet:m,Buffer:S,CommandBuffer:b,get ObjectType(){return T},get Status(){return h},get API(){return y},get SurfaceTransform(){return v},get Feature(){return C},get Format(){return I},get FormatType(){return D},get Type(){return P},get BufferUsageBit(){return R},get BufferFlagBit(){return A},get MemoryAccessBit(){return B},get MemoryUsageBit(){return _},get TextureType(){return F},get TextureUsageBit(){return E},get TextureFlagBit(){return M},get FormatFeatureBit(){return w},get SampleCount(){return O},get VsyncMode(){return L},get Filter(){return x},get Address(){return N},get ComparisonFunc(){return j},get StencilOp(){return V},get BlendFactor(){return z},get BlendOp(){return U},get ColorMask(){return H},get ShaderStageFlagBit(){return G},get LoadOp(){return k},get StoreOp(){return W},get AccessFlagBit(){return Q},get ResolveMode(){return q},get PipelineBindPoint(){return K},get PrimitiveMode(){return X},get PolygonMode(){return Y},get ShadeModel(){return J},get CullMode(){return Z},get DynamicStateFlagBit(){return $},get StencilFace(){return ee},get DescriptorType(){return re},get QueueType(){return te},get QueryType(){return ae},get CommandBufferType(){return ne},get ClearFlagBit(){return oe},get BarrierType(){return ie},get PassType(){return se},Size:ue,DeviceCaps:le,DeviceOptions:ge,Offset:pe,Rect:de,Extent:ce,TextureSubresLayers:fe,TextureSubresRange:me,TextureCopy:Se,TextureBlit:be,BufferTextureCopy:Te,Viewport:he,Color:ye,BindingMappingInfo:ve,SwapchainInfo:Ce,DeviceInfo:Ie,BufferInfo:De,BufferViewInfo:Pe,DrawInfo:Re,DispatchInfo:Ae,IndirectBuffer:Be,TextureInfo:_e,TextureViewInfo:Fe,SamplerInfo:Ee,Uniform:Me,UniformBlock:we,UniformSamplerTexture:Oe,UniformSampler:Le,UniformTexture:xe,UniformStorageImage:Ne,UniformStorageBuffer:je,UniformInputAttachment:Ve,ShaderStage:ze,Attribute:Ue,ShaderInfo:He,InputAssemblerInfo:Ge,ColorAttachment:ke,DepthStencilAttachment:We,SubpassInfo:Qe,SubpassDependency:qe,RenderPassInfo:Ke,GeneralBarrierInfo:Xe,TextureBarrierInfo:Ye,BufferBarrierInfo:Je,FramebufferInfo:Ze,DescriptorSetLayoutBinding:$e,DescriptorSetLayoutInfo:er,DescriptorSetInfo:rr,PipelineLayoutInfo:tr,InputState:ar,CommandBufferInfo:nr,QueueInfo:or,QueryPoolInfo:ir,FormatInfo:sr,MemoryStatus:ur,DynamicStencilStates:lr,DynamicStates:gr,GFXObject:pr,get AttributeName(){return dr},FormatInfos:cr,DESCRIPTOR_BUFFER_TYPE:fr,DESCRIPTOR_SAMPLER_TYPE:mr,DESCRIPTOR_DYNAMIC_TYPE:Sr,DRAW_INFO_SIZE:br,IsPowerOf2:Tr,FormatSize:hr,FormatSurfaceSize:yr,GetTypeSize:vr,getTypedArrayConstructor:Cr,formatAlignment:Ir,alignTo:Dr,Device:Pr,Swapchain:Rr,Framebuffer:Ar,InputAssembler:Br,DescriptorSetLayout:_r,PipelineLayout:Fr,RasterizerState:Er,DepthStencilState:Mr,BlendTarget:wr,BlendState:Or,PipelineStateInfo:Lr,PipelineState:xr,Queue:Nr,RenderPass:jr,Sampler:Vr,Shader:zr,Texture:Ur,GeneralBarrier:Hr,TextureBarrier:Gr,get LegacyRenderMode(){return Nt},get RenderType(){return jt},DeviceManager:Vt,deviceManager:zt}));var ba=Object.freeze({__proto__:null,get CameraFOVAxis(){return et},get CameraProjection(){return rt},get CameraAperture(){return tt},get CameraISO(){return at},get CameraShutter(){return nt},get CameraType(){return ot},get TrackingType(){return it},SKYBOX_FLAG:st,Camera:ut,get ModelType(){return Ut},Model:Ht,SubModel:Gt,Ambient:lt,EnvironmentLightingType:gt,Skybox:pt,ShadowSize:dt,ShadowType:ct,PCFType:ft,CSMLevel:mt,CSMOptimizationMode:St,Shadows:bt,FogType:Tt,Fog:ht,Octree:kt,ColorTemperatureToRGB:Wt,get LightType(){return Qt},nt2lm:qt,Light:Kt,DirectionalLight:Xt,SphereLight:Yt,SpotLight:Jt}),Ta=function(e){if(void 0===Sa[e]){var r=1<<ma;Sa[e]=r,ma+=1}},ha=Object.freeze({__proto__:null,addStage:Ta,scene:ba,createIA:function(e,r){if(!r.positions)return console.error("The data must have positions field"),null;for(var t=[],a=r.positions.length/3,n=0;n<a;++n)t.push(r.positions[3*n],r.positions[3*n+1],r.positions[3*n+2]),r.normals&&t.push(r.normals[3*n],r.normals[3*n+1],r.normals[3*n+2]),r.uvs&&t.push(r.uvs[2*n],r.uvs[2*n+1]),r.colors&&t.push(r.colors[3*n],r.colors[3*n+1],r.colors[3*n+2]);var o=[];o.push(new Ue(dr.ATTR_POSITION,I.RGB32F)),r.normals&&o.push(new Ue(dr.ATTR_NORMAL,I.RGB32F)),r.uvs&&o.push(new Ue(dr.ATTR_TEX_COORD,I.RG32F)),r.colors&&o.push(new Ue(dr.ATTR_COLOR,I.RGB32F));var i=e.createBuffer(new De(R.VERTEX|R.TRANSFER_DST,_.DEVICE,4*t.length,4*t.length/a));i.update(new Float32Array(t));var s=null;return r.indices&&(s=e.createBuffer(new De(R.INDEX|R.TRANSFER_DST,_.DEVICE,2*r.indices.length,2))).update(new Uint16Array(r.indices)),e.createInputAssembler(new Ge(o,[i],s))},get RenderQueue(){return $t},get PassStage(){return ea},genHandle:yt,getTypeFromHandle:vt,getBindingFromHandle:Ct,getCountFromHandle:It,getOffsetFromHandle:Dt,customizeType:Pt,type2reader:Rt,type2writer:At,getDefaultFromType:Bt,getStringFromType:_t,overrideMacros:Ft,get BatchingSchemes(){return Et},Pass:Mt,getDeviceShaderVersion:wt,programLib:Ot,nearestPOT:ra,TextureBufferPool:ta,MaterialInstance:Lt,PassInstance:xt,get PoolType(){return aa},NULL_HANDLE:na,get Render2dView(){return oa},Render2dPool:ia,get NodeView(){return sa},NodePool:ua,get PassView(){return la},PassPool:ga,get AABBView(){return pa},AABBPool:da,RenderScene:Zt,CameraVisFlags:ca,VisibilityFlags:fa});e("renderer",ha);var ya,va,Ca=e("NodePool",function(){function e(e){this.poolHandlerComp=void 0,this._pool=void 0,this.poolHandlerComp=e,this._pool=[]}var r=e.prototype;return r.size=function(){return this._pool.length},r.clear=function(){for(var e=this._pool.length,r=0;r<e;++r)this._pool[r].destroy();this._pool.length=0},r.put=function(e){if(e&&-1===this._pool.indexOf(e)){e.removeFromParent();var r=this.poolHandlerComp?e.getComponent(this.poolHandlerComp):null;r&&r.unuse&&r.unuse(),this._pool.push(e)}},r.get=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var a=this._pool.length-1;if(a<0)return null;var n=this._pool[a];this._pool.length=a;var o=this.poolHandlerComp?n.getComponent(this.poolHandlerComp):null;return o&&o.reuse&&o.reuse(arguments),n},e}());r.NodePool=Ca;var Ia=null!==(ya=globalThis.jsb)&&void 0!==ya?ya:{};e("native",{DownloaderHints:Ia.DownloaderHints,Downloader:Ia.Downloader,zipUtils:Ia.zipUtils,fileUtils:Ia.fileUtils,DebugRenderer:Ia.DebugRenderer,copyTextToClipboard:null===(va=Ia.copyTextToClipboard)||void 0===va?void 0:va.bind(Ia),garbageCollect:Ia.garbageCollect,reflection:Ia.reflection,bridge:Ia.bridge,jsbBridgeWrapper:Ia.jsbBridgeWrapper,AssetsManager:Ia.AssetsManager,EventAssetsManager:Ia.EventAssetsManager,Manifest:Ia.Manifest,saveImageData:Ia.saveImageData}),r.renderer=ha}}}));
