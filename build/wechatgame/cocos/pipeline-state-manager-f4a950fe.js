System.register(["./bits-b8bc8b22.js","./buffer-barrier-17698e09.js","./math-base-02e87bf8.js"],(function(e){"use strict";var t,n,_,i,r,E,a,T,O,F,o,S,A,s,c,I,N,R,u,L,M,l,P,C,G,U,D,B,d,g,m,w,f,p,v,h,y,b,X,H,V,W,k,x,J,Y,j,z,K,Z,q,Q,$,ee,te,ne,_e,ie,re,Ee,ae,Te,Oe,Fe,oe,Se,Ae,se,ce,Ie,Ne,Re,ue,Le;return{setters:[function(e){t=e.l,n=e.am,_=e.F,i=e.A,r=e.d,E=e.z,a=e.S,T=e.a,O=e.e,F=e.x,o=e.E,S=e.B,A=e.ac,s=e.i,c=e.Q,I=e.M,N=e.an},function(e){R=e.bC,u=e.b3,L=e.b4,M=e.B,l=e.bj,P=e.bh,C=e.bi,G=e.b6,U=e.bg,D=e.b5,B=e.D,d=e.b7,g=e.b8,m=e.be,w=e.a,f=e.bf,p=e.bk,v=e.bl,h=e.bD,y=e.b9,b=e.bc,X=e.bb,H=e.ba,V=e.bd,W=e.F,k=e.aw,x=e.ax,J=e.bt,Y=e.bu,j=e.bA,z=e.bv,K=e.bq,Z=e.bB,q=e.bE,Q=e.bF,$=e.bx,ee=e.bG,te=e.ab,ne=e.aa,_e=e.a9,ie=e.aF,re=e.J,Ee=e.t,ae=e.al,Te=e.ak,Oe=e.T,Fe=e.am,oe=e.ap,Se=e.c,Ae=e.k,se=e.A,ce=e.aJ},function(e){Ie=e.L,Ne=e.N,Re=e.S,ue=e.V,Le=e.R}],execute:function(){e({A:Gt,F:void 0,L:void 0,R:void 0,S:void 0,Y:void 0,e:void 0,k:void 0,r:rn});var Me={Device:u,Swapchain:L,Buffer:M,Texture:l,Sampler:P,Shader:C,InputAssembler:G,RenderPass:U,Framebuffer:D,DescriptorSet:B,DescriptorSetLayout:d,PipelineLayout:g,PipelineState:m,CommandBuffer:w,Queue:f,GeneralBarrier:p,TextureBarrier:v,BufferBarrier:h,RasterizerState:y,BlendState:b,BlendTarget:X,DepthStencilState:H,PipelineStateInfo:V};Object.assign(Me,R),t.gfx=Me;var le={GFXDevice:!0,GFXBuffer:!0,GFXTexture:!0,GFXSampler:!0,GFXShader:!0,GFXInputAssembler:!0,GFXRenderPass:!0,GFXFramebuffer:!0,GFXPipelineState:!0,GFXCommandBuffer:!0,GFXQueue:!0,GFXObjectType:!0,GFXObject:!1,GFXAttributeName:!0,GFXType:!0,GFXFormat:!0,GFXBufferUsageBit:!0,GFXMemoryUsageBit:!0,GFXBufferFlagBit:!0,GFXBufferAccessBit:"MemoryAccessBit",GFXPrimitiveMode:!0,GFXPolygonMode:!0,GFXShadeModel:!0,GFXCullMode:!0,GFXComparisonFunc:!0,GFXStencilOp:!0,GFXBlendOp:!0,GFXBlendFactor:!0,GFXColorMask:!0,GFXFilter:!0,GFXAddress:!0,GFXTextureType:!0,GFXTextureUsageBit:!0,GFXSampleCount:!0,GFXTextureFlagBit:!0,GFXShaderStageFlagBit:!0,GFXDescriptorType:!0,GFXCommandBufferType:!0,GFXLoadOp:!0,GFXStoreOp:!0,GFXPipelineBindPoint:!0,GFXDynamicStateFlagBit:!0,GFXStencilFace:!0,GFXQueueType:!0,GFXRect:!0,GFXViewport:!0,GFXColor:!0,GFXClearFlag:!0,GFXOffset:!0,GFXExtent:!0,GFXTextureSubres:"TextureSubresLayers",GFXTextureCopy:!0,GFXBufferTextureCopy:!0,GFXFormatType:!0,GFXFormatInfo:!0,GFXMemoryStatus:!0,GFXFormatInfos:!0,GFXFormatSize:!0,GFXFormatSurfaceSize:!0,GFXGetTypeSize:!0,getTypedArrayConstructor:!1};for(var Pe in le){var Ce=le[Pe];!0===Ce?Ce=Pe.slice(3):!1===Ce&&(Ce=Pe),Ie(t,"cc",[{name:Pe,newName:Ce,target:t.gfx,targetName:"cc.gfx"}])}Ne(t,"cc",[{name:"GFX_MAX_VERTEX_ATTRIBUTES"},{name:"GFX_MAX_TEXTURE_UNITS"},{name:"GFX_MAX_ATTACHMENTS"},{name:"GFX_MAX_BUFFER_BINDINGS"},{name:"GFXTextureLayout"}]),Ne(W,"Feature",[{name:"COLOR_FLOAT",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.R32F) & FormatFeatureBit.RENDER_TARGET;"},{name:"COLOR_HALF_FLOAT",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.R16F) & FormatFeatureBit.RENDER_TARGET;"},{name:"TEXTURE_FLOAT",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = (device.getFormatFeatures(Format.R32F) & (FormatFeatureBit.RENDER_TARGET | FormatFeatureBit.SAMPLED_TEXTURE)) === (FormatFeatureBit.RENDER_TARGET | FormatFeatureBit.SAMPLED_TEXTURE);"},{name:"TEXTURE_HALF_FLOAT",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = (device.getFormatFeatures(Format.R16F) & (FormatFeatureBit.RENDER_TARGET | FormatFeatureBit.SAMPLED_TEXTURE)) === (FormatFeatureBit.RENDER_TARGET | FormatFeatureBit.SAMPLED_TEXTURE);"},{name:"TEXTURE_FLOAT_LINEAR",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.R32F) & FormatFeatureBit.LINEAR_FILTER;"},{name:"TEXTURE_HALF_FLOAT_LINEAR",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.R16F) & FormatFeatureBit.LINEAR_FILTER;"},{name:"FORMAT_R11G11B10F",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.R11G11B10F) !== FormatFeatureBit.NONE;"},{name:"FORMAT_SRGB",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.SRGB8) !== FormatFeatureBit.NONE;"},{name:"FORMAT_ETC1",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.ETC_RGB8) !== FormatFeatureBit.NONE;"},{name:"FORMAT_ETC2",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.ETC2_RGB8) !== FormatFeatureBit.NONE;"},{name:"FORMAT_DXT",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.BC1) !== FormatFeatureBit.NONE;"},{name:"FORMAT_PVRTC",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.PVRTC_RGB2) !== FormatFeatureBit.NONE;"},{name:"FORMAT_ASTC",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.ASTC_RGBA_4x4) !== FormatFeatureBit.NONE;"},{name:"FORMAT_RGB8",suggest:"Please use device.getFormatFeatures() instead, like: \nlet isSupported = device.getFormatFeatures(Format.RGB8) !== FormatFeatureBit.NONE;"}]),Ne(k.prototype,"ColorAttachment",[{name:"beginAccesses",suggest:"Please assign to ColorAttachment.barrier instead"},{name:"endAccesses",suggest:"Please assign to ColorAttachment.barrier instead"}]),Ne(x.prototype,"DepthStencilAttachment",[{name:"beginAccesses",suggest:"Please assign to DepthStencilAttachment.barrier instead"},{name:"endAccesses",suggest:"Please assign to DepthStencilAttachment.barrier instead"}]),Ie(u.prototype,"Device",[{name:"getGlobalBarrier",newName:"getGeneralBarrier"}]);try{if(n&&J.os===Y.IOS&&!j.isDevTool){var Ge=my.getFileSystemManager();JSON.parse(Ge.readFileSync({filePath:"game.json",encoding:"utf8"}).data).screenOrientation}}catch(e){console.error(e)}var Ue=function(e){function t(){var t,n;return(t=e.call(this)||this).isFrameRotated=!1,t.handleResizeEvent=!0,t._cbToUpdateFrameBuffer=void 0,t._resolutionScale=1,t._isProportionalToFrame=!1,null===(n=j.onWindowResize)||void 0===n||n.call(j,(function(){t.emit("window-resize")})),t}_(t,e);var n=t.prototype;return n.init=function(e,t){this._cbToUpdateFrameBuffer=t,this._cbToUpdateFrameBuffer()},n.requestFullScreen=function(){return Promise.reject(new Error("request fullscreen is not supported on this platform."))},n.exitFullScreen=function(){return Promise.reject(new Error("exit fullscreen is not supported on this platform."))},i(t,[{key:"supportFullScreen",get:function(){return!1}},{key:"isFullScreen",get:function(){return!1}},{key:"devicePixelRatio",get:function(){return j.getSystemInfoSync().pixelRatio}},{key:"windowSize",get:function(){var e=j.getSystemInfoSync(),t=this.devicePixelRatio,n=e.windowWidth,_=e.windowHeight;return new Re(n*t,_*t)},set:function(){r(1221)}},{key:"resolution",get:function(){var e=this.windowSize,t=this.resolutionScale;return new Re(e.width*t,e.height*t)}},{key:"resolutionScale",get:function(){return this._resolutionScale},set:function(e){var t;e!==this._resolutionScale&&(this._resolutionScale=e,null===(t=this._cbToUpdateFrameBuffer)||void 0===t||t.call(this))}},{key:"orientation",get:function(){return j.orientation},set:function(){console.warn("Setting orientation is not supported yet.")}},{key:"safeAreaEdge",get:function(){var e=j.getSafeArea(),t=this.windowSize,n=this.devicePixelRatio,_=e.top*n,i=t.height-e.bottom*n,r=e.left*n,E=t.width-e.right*n;return this.orientation===z.PORTRAIT?_<i?_=i:i=_:r<E?r=E:E=r,{top:_,bottom:i,left:r,right:E}}},{key:"isProportionalToFrame",get:function(){return this._isProportionalToFrame},set:function(){}}]),t}(K),De=e("z",new Ue),Be=function(){function e(){}var n=e.prototype;return n.init=function(){var e,n,_=null===(e=E.querySettings(a.Category.SCREEN,"exactFitScreen"))||void 0===e||e,i=null!==(n=E.querySettings(a.Category.SCREEN,"orientation"))&&void 0!==n?n:"auto";De.init({exactFitScreen:_,configOrientation:i},(function(){var e,n=t.director;(null===(e=n.root)||void 0===e?void 0:e.pipeline)?n.root.pipeline.shadingScale=De.resolutionScale:r(1220)}))},n.fullScreen=function(){return De.isFullScreen},n.requestFullScreen=function(e,t,n){return arguments.length>0&&r(1400,"screen.requestFullScreen(element, onFullScreenChange?, onFullScreenError?)","screen.requestFullScreen(): Promise"),De.requestFullScreen().then((function(){null==t||t()})).catch((function(e){console.error(e),null==n||n()}))},n.exitFullScreen=function(){return De.exitFullScreen()},n.autoFullScreen=function(e,t){var n;null===(n=this.requestFullScreen(e,t))||void 0===n||n.catch((function(){}))},n.disableAutoFullScreen=function(){},i(e,[{key:"devicePixelRatio",get:function(){return De.devicePixelRatio}},{key:"windowSize",get:function(){return De.windowSize},set:function(e){De.windowSize=e}},{key:"resolution",get:function(){return De.resolution}},{key:"supportsFullScreen",get:function(){return De.supportFullScreen}}]),e}(),de=e("s",new Be);t.screen=de;var ge,me,we=e("a",{Feature:Z,hasFeature:function(e){return J.hasFeature(e)},NetworkType:q,Language:Q,OS:Y,Platform:$,BrowserType:ee,isNative:J.isNative,isBrowser:J.isBrowser,isMobile:J.isMobile,isLittleEndian:J.isLittleEndian,platform:J.platform,language:J.language,languageCode:J.nativeLanguage,os:J.os,osVersion:J.osVersion,osMainVersion:J.osMainVersion,browserType:J.browserType,browserVersion:J.browserVersion,isXR:J.isXR,windowPixelResolution:de.windowSize,capabilities:{canvas:!0,opengl:!0,webp:J.hasFeature(Z.WEBP),imageBitmap:J.hasFeature(Z.IMAGE_BITMAP),touches:J.hasFeature(Z.INPUT_TOUCH),mouse:J.hasFeature(Z.EVENT_MOUSE),keyboard:J.hasFeature(Z.EVENT_KEYBOARD),accelerometer:J.hasFeature(Z.EVENT_ACCELEROMETER)},localStorage:{},getNetworkType:function(){return J.networkType},getBatteryLevel:function(){return J.getBatteryLevel()},garbageCollect:function(){J.triggerGC()},isObjectValid:function(e){return null!=e},dump:function(){var e="";e+="isMobile : "+this.isMobile+"\r\n",e+="language : "+this.language+"\r\n",e+="browserType : "+this.browserType+"\r\n",e+="browserVersion : "+this.browserVersion+"\r\n",e+="capabilities : "+JSON.stringify(this.capabilities)+"\r\n",e+="os : "+this.os+"\r\n",e+="osVersion : "+this.osVersion+"\r\n",e+="platform : "+this.platform+"\r\n",e+="Using "+(t.game.renderType===t.game.RENDER_TYPE_WEBGL?"WEBGL":"CANVAS")+" renderer.\r\n",T(e)},openURL:function(e){J.openURL(e)},init:function(){try{var e=we.localStorage=window.localStorage;e.setItem("storage",""),e.removeItem("storage"),e=null}catch(e){var t=function(){r(5200)};this.localStorage={getItem:t,setItem:t,clear:t,removeItem:t}}var n;this.__isWebIOS14OrIPadOS14Env=(we.os===Y.IOS||we.os===Y.OSX)&&(null===(n=GameGlobal)||void 0===n?void 0:n.isIOSHighPerformanceMode)&&/(OS 1((4\.[0-9])|(5\.[0-3])))|(Version\/1((4\.[0-9])|(5\.[0-3])))/.test(window.navigator.userAgent)},now:function(){return J.now()},restartVM:function(){J.restartJSVM()},getSafeAreaRect:function(){var e=t.view,n=De.safeAreaEdge,_=De.windowSize,i=new ue(n.left,n.bottom),r=new ue(_.width-n.right,_.height-n.top);e._convertToUISpace(i),e._convertToUISpace(r);var E=i.x,a=i.y,T=r.x-i.x,O=r.y-i.y;return new Le(E,a,T,O)}});t.sys=we,function(e){e[e.AUTO=0]="AUTO",e[e.CANVAS=1]="CANVAS",e[e.WEBGL=2]="WEBGL",e[e.HEADLESS=3]="HEADLESS"}(ge||(ge=e("L",{}))),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.CANVAS=0]="CANVAS",e[e.WEBGL=1]="WEBGL",e[e.OPENGL=2]="OPENGL",e[e.HEADLESS=3]="HEADLESS"}(me||(me=e("R",{})));var fe=e("D",function(){function e(){this.initialized=!1,this._canvas=null,this._renderType=me.UNKNOWN}var n=e.prototype;return n.init=function(e,n){if(!this.initialized){var _=E.querySettings(a.Category.RENDERING,"renderMode");if(this._canvas=e,this._renderType=this._determineRenderType(_),this._renderType===me.WEBGL){var i=new te(n),r=!!window.WebGL2RenderingContext,T=window.navigator.userAgent.toLowerCase();(-1!==T.indexOf("safari")&&-1===T.indexOf("chrome")||we.browserType===ee.UC)&&(r=!1);var F=[];r&&t.WebGL2Device&&F.push(t.WebGL2Device),t.WebGLDevice&&F.push(t.WebGLDevice),t.EmptyDevice&&F.push(t.EmptyDevice),u.canvas=e;for(var o=0;o<F.length&&(this._gfxDevice=new F[o],!this._gfxDevice.initialize(i));o++);}else this._renderType===me.HEADLESS&&t.EmptyDevice&&(this._gfxDevice=new t.EmptyDevice,this._gfxDevice.initialize(new te(n)));if(!this._gfxDevice)return O("can not support canvas rendering in 3D"),void(this._renderType=me.UNKNOWN);var S=new ne(this._canvas),A=de.windowSize;S.width=A.width,S.height=A.height,this._swapchain=this._gfxDevice.createSwapchain(S),this._canvas&&(this._canvas.oncontextmenu=function(){return!1})}},n._determineRenderType=function(e){("number"!=typeof e||e>me.HEADLESS||e<ge.AUTO)&&(e=ge.AUTO);var t=me.CANVAS,n=!1;if(e===ge.CANVAS?(t=me.CANVAS,n=!0):e===ge.AUTO||e===ge.WEBGL?(t=me.WEBGL,n=!0):e===ge.HEADLESS&&(t=me.HEADLESS,n=!0),!n)throw new Error(F(3820,e));return t},i(e,[{key:"gfxDevice",get:function(){return this._gfxDevice}},{key:"swapchain",get:function(){return this._swapchain}}]),e}()),pe=(e("d",new fe),{NONE:0,IGNORE_RAYCAST:1<<20,GIZMOS:1<<21,EDITOR:1<<22,UI_3D:1<<23,SCENE_GIZMO:1<<24,UI_2D:1<<25,PROFILER:1<<28,DEFAULT:1<<30,ALL:4294967295}),ve=e("c",function(){function e(){}return e.init=function(){var t=E.querySettings(a.Category.ENGINE,"customLayers");if(t)for(var n=0;n<t.length;n++){var _=t[n];e.addLayer(_.name,_.bit)}},e.makeMaskInclude=function(e){for(var t,n=0,_=s(e);!(t=_()).done;)n|=t.value;return n},e.makeMaskExclude=function(t){return~e.makeMaskInclude(t)},e.addLayer=function(t,n){if(void 0!==n)if(n>19||n<0)console.warn("maximum layers reached.");else{var _=1<<n;c(!e.Enum[t],F(2104,t)),e.Enum[t]=_,I.value(e.Enum,String(_),t),e.BitMask[t]=_,I.value(e.BitMask,String(_),t)}else console.warn("bitNum can't be undefined")},e.deleteLayer=function(t){if(t>19||t<0)console.warn("do not change buildin layers.");else{var n=1<<t;delete e.Enum[e.Enum[n]],delete e.Enum[n],delete e.BitMask[e.BitMask[n]],delete e.BitMask[n]}},e.nameToLayer=function(t){return void 0===t?(console.warn("name can't be undefined"),-1):N(e.Enum[t])},e.layerToName=function(t){return t>31||t<0?(console.warn("Unable to access unknown layer."),""):e.Enum[1<<t]},e}());ve.Enum=o(pe),ve.BitMask=S(A({},pe)),t.Layers=ve;var he,ye,be=e("y","MainFlow"),Xe=e("v","ForwardFlow"),He=e("w","ShadowFlow");!function(e){e[e.DEFAULT=100]="DEFAULT",e[e.UI=200]="UI"}(he||(he=e("F",{}))),t.RenderPassStage=he,function(e){e[e.MIN=0]="MIN",e[e.MAX=255]="MAX",e[e.DEFAULT=128]="DEFAULT"}(ye||(ye=e("e",{})));var Ve,We=e("l",{bindings:[],layouts:{}}),ke=e("B",{bindings:[],layouts:{}});!function(e){e[e.UBO_GLOBAL=0]="UBO_GLOBAL",e[e.UBO_CAMERA=1]="UBO_CAMERA",e[e.UBO_SHADOW=2]="UBO_SHADOW",e[e.UBO_CSM=3]="UBO_CSM",e[e.SAMPLER_SHADOWMAP=4]="SAMPLER_SHADOWMAP",e[e.SAMPLER_ENVIRONMENT=5]="SAMPLER_ENVIRONMENT",e[e.SAMPLER_SPOT_SHADOW_MAP=6]="SAMPLER_SPOT_SHADOW_MAP",e[e.SAMPLER_DIFFUSEMAP=7]="SAMPLER_DIFFUSEMAP",e[e.COUNT=8]="COUNT"}(Ve||(Ve=e("k",{})));var xe,Je=Ve.SAMPLER_SHADOWMAP,Ye=Ve.COUNT-Je;!function(e){e[e.UBO_LOCAL=0]="UBO_LOCAL",e[e.UBO_FORWARD_LIGHTS=1]="UBO_FORWARD_LIGHTS",e[e.UBO_SKINNING_ANIMATION=2]="UBO_SKINNING_ANIMATION",e[e.UBO_SKINNING_TEXTURE=3]="UBO_SKINNING_TEXTURE",e[e.UBO_MORPH=4]="UBO_MORPH",e[e.UBO_UI_LOCAL=5]="UBO_UI_LOCAL",e[e.SAMPLER_JOINTS=6]="SAMPLER_JOINTS",e[e.SAMPLER_MORPH_POSITION=7]="SAMPLER_MORPH_POSITION",e[e.SAMPLER_MORPH_NORMAL=8]="SAMPLER_MORPH_NORMAL",e[e.SAMPLER_MORPH_TANGENT=9]="SAMPLER_MORPH_TANGENT",e[e.SAMPLER_LIGHTMAP=10]="SAMPLER_LIGHTMAP",e[e.SAMPLER_SPRITE=11]="SAMPLER_SPRITE",e[e.SAMPLER_REFLECTION=12]="SAMPLER_REFLECTION",e[e.STORAGE_REFLECTION=13]="STORAGE_REFLECTION",e[e.COUNT=14]="COUNT"}(xe||(xe=e("Y",{})));var je,ze=xe.SAMPLER_JOINTS,Ke=xe.STORAGE_REFLECTION-ze,Ze=xe.COUNT-ze-Ke;!function(e){e[e.GLOBAL=0]="GLOBAL",e[e.MATERIAL=1]="MATERIAL",e[e.LOCAL=2]="LOCAL"}(je||(je=e("S",{})));var qe=e("J",new _e([Je,0,ze],[Ye,0,Ke],[0,0,0],[0,0,0],[0,0,0],[0,0,Ze],[0,0,0],[0,2,1])),Qe=e("m",(function(){}));Qe.TIME_OFFSET=0,Qe.SCREEN_SIZE_OFFSET=Qe.TIME_OFFSET+4,Qe.NATIVE_SIZE_OFFSET=Qe.SCREEN_SIZE_OFFSET+4,Qe.DEBUG_VIEW_MODE_OFFSET=Qe.NATIVE_SIZE_OFFSET+4,Qe.DEBUG_VIEW_COMPOSITE_PACK_1_OFFSET=Qe.DEBUG_VIEW_MODE_OFFSET+4,Qe.DEBUG_VIEW_COMPOSITE_PACK_2_OFFSET=Qe.DEBUG_VIEW_COMPOSITE_PACK_1_OFFSET+4,Qe.DEBUG_VIEW_COMPOSITE_PACK_3_OFFSET=Qe.DEBUG_VIEW_COMPOSITE_PACK_2_OFFSET+4,Qe.COUNT=Qe.DEBUG_VIEW_COMPOSITE_PACK_3_OFFSET+4,Qe.SIZE=4*Qe.COUNT,Qe.NAME="CCGlobal",Qe.BINDING=Ve.UBO_GLOBAL,Qe.DESCRIPTOR=new ie(Qe.BINDING,re.UNIFORM_BUFFER,1,Ee.ALL),Qe.LAYOUT=new ae(je.GLOBAL,Qe.BINDING,Qe.NAME,[new Te("cc_time",Oe.FLOAT4,1),new Te("cc_screenSize",Oe.FLOAT4,1),new Te("cc_nativeSize",Oe.FLOAT4,1),new Te("cc_debug_view_mode",Oe.FLOAT,4),new Te("cc_debug_view_composite_pack_1",Oe.FLOAT,4),new Te("cc_debug_view_composite_pack_2",Oe.FLOAT,4),new Te("cc_debug_view_composite_pack_3",Oe.FLOAT,4)],1),We.layouts[Qe.NAME]=Qe.LAYOUT,We.bindings[Qe.BINDING]=Qe.DESCRIPTOR;var $e=e("n",(function(){}));$e.MAT_VIEW_OFFSET=0,$e.MAT_VIEW_INV_OFFSET=$e.MAT_VIEW_OFFSET+16,$e.MAT_PROJ_OFFSET=$e.MAT_VIEW_INV_OFFSET+16,$e.MAT_PROJ_INV_OFFSET=$e.MAT_PROJ_OFFSET+16,$e.MAT_VIEW_PROJ_OFFSET=$e.MAT_PROJ_INV_OFFSET+16,$e.MAT_VIEW_PROJ_INV_OFFSET=$e.MAT_VIEW_PROJ_OFFSET+16,$e.CAMERA_POS_OFFSET=$e.MAT_VIEW_PROJ_INV_OFFSET+16,$e.SURFACE_TRANSFORM_OFFSET=$e.CAMERA_POS_OFFSET+4,$e.SCREEN_SCALE_OFFSET=$e.SURFACE_TRANSFORM_OFFSET+4,$e.EXPOSURE_OFFSET=$e.SCREEN_SCALE_OFFSET+4,$e.MAIN_LIT_DIR_OFFSET=$e.EXPOSURE_OFFSET+4,$e.MAIN_LIT_COLOR_OFFSET=$e.MAIN_LIT_DIR_OFFSET+4,$e.AMBIENT_SKY_OFFSET=$e.MAIN_LIT_COLOR_OFFSET+4,$e.AMBIENT_GROUND_OFFSET=$e.AMBIENT_SKY_OFFSET+4,$e.GLOBAL_FOG_COLOR_OFFSET=$e.AMBIENT_GROUND_OFFSET+4,$e.GLOBAL_FOG_BASE_OFFSET=$e.GLOBAL_FOG_COLOR_OFFSET+4,$e.GLOBAL_FOG_ADD_OFFSET=$e.GLOBAL_FOG_BASE_OFFSET+4,$e.NEAR_FAR_OFFSET=$e.GLOBAL_FOG_ADD_OFFSET+4,$e.VIEW_PORT_OFFSET=$e.NEAR_FAR_OFFSET+4,$e.COUNT=$e.VIEW_PORT_OFFSET+4,$e.SIZE=4*$e.COUNT,$e.NAME="CCCamera",$e.BINDING=Ve.UBO_CAMERA,$e.DESCRIPTOR=new ie($e.BINDING,re.UNIFORM_BUFFER,1,Ee.ALL),$e.LAYOUT=new ae(je.GLOBAL,$e.BINDING,$e.NAME,[new Te("cc_matView",Oe.MAT4,1),new Te("cc_matViewInv",Oe.MAT4,1),new Te("cc_matProj",Oe.MAT4,1),new Te("cc_matProjInv",Oe.MAT4,1),new Te("cc_matViewProj",Oe.MAT4,1),new Te("cc_matViewProjInv",Oe.MAT4,1),new Te("cc_cameraPos",Oe.FLOAT4,1),new Te("cc_surfaceTransform",Oe.FLOAT4,1),new Te("cc_screenScale",Oe.FLOAT4,1),new Te("cc_exposure",Oe.FLOAT4,1),new Te("cc_mainLitDir",Oe.FLOAT4,1),new Te("cc_mainLitColor",Oe.FLOAT4,1),new Te("cc_ambientSky",Oe.FLOAT4,1),new Te("cc_ambientGround",Oe.FLOAT4,1),new Te("cc_fogColor",Oe.FLOAT4,1),new Te("cc_fogBase",Oe.FLOAT4,1),new Te("cc_fogAdd",Oe.FLOAT4,1),new Te("cc_nearFar",Oe.FLOAT4,1),new Te("cc_viewPort",Oe.FLOAT4,1)],1),We.layouts[$e.NAME]=$e.LAYOUT,We.bindings[$e.BINDING]=$e.DESCRIPTOR;var et=e("j",(function(){}));et.MAT_LIGHT_VIEW_OFFSET=0,et.MAT_LIGHT_VIEW_PROJ_OFFSET=et.MAT_LIGHT_VIEW_OFFSET+16,et.SHADOW_INV_PROJ_DEPTH_INFO_OFFSET=et.MAT_LIGHT_VIEW_PROJ_OFFSET+16,et.SHADOW_PROJ_DEPTH_INFO_OFFSET=et.SHADOW_INV_PROJ_DEPTH_INFO_OFFSET+4,et.SHADOW_PROJ_INFO_OFFSET=et.SHADOW_PROJ_DEPTH_INFO_OFFSET+4,et.SHADOW_NEAR_FAR_LINEAR_SATURATION_INFO_OFFSET=et.SHADOW_PROJ_INFO_OFFSET+4,et.SHADOW_WIDTH_HEIGHT_PCF_BIAS_INFO_OFFSET=et.SHADOW_NEAR_FAR_LINEAR_SATURATION_INFO_OFFSET+4,et.SHADOW_LIGHT_PACKING_NBIAS_NULL_INFO_OFFSET=et.SHADOW_WIDTH_HEIGHT_PCF_BIAS_INFO_OFFSET+4,et.SHADOW_COLOR_OFFSET=et.SHADOW_LIGHT_PACKING_NBIAS_NULL_INFO_OFFSET+4,et.PLANAR_NORMAL_DISTANCE_INFO_OFFSET=et.SHADOW_COLOR_OFFSET+4,et.COUNT=et.PLANAR_NORMAL_DISTANCE_INFO_OFFSET+4,et.SIZE=4*et.COUNT,et.NAME="CCShadow",et.BINDING=Ve.UBO_SHADOW,et.DESCRIPTOR=new ie(et.BINDING,re.UNIFORM_BUFFER,1,Ee.ALL),et.LAYOUT=new ae(je.GLOBAL,et.BINDING,et.NAME,[new Te("cc_matLightView",Oe.MAT4,1),new Te("cc_matLightViewProj",Oe.MAT4,1),new Te("cc_shadowInvProjDepthInfo",Oe.FLOAT4,1),new Te("cc_shadowProjDepthInfo",Oe.FLOAT4,1),new Te("cc_shadowProjInfo",Oe.FLOAT4,1),new Te("cc_shadowNFLSInfo",Oe.FLOAT4,1),new Te("cc_shadowWHPBInfo",Oe.FLOAT4,1),new Te("cc_shadowLPNNInfo",Oe.FLOAT4,1),new Te("cc_shadowColor",Oe.FLOAT4,1),new Te("cc_planarNDInfo",Oe.FLOAT4,1)],1),We.layouts[et.NAME]=et.LAYOUT,We.bindings[et.BINDING]=et.DESCRIPTOR;var tt=e("o",(function(){}));tt.CSM_LEVEL_COUNT=4,tt.CSM_VIEW_DIR_0_OFFSET=0,tt.CSM_VIEW_DIR_1_OFFSET=tt.CSM_VIEW_DIR_0_OFFSET+4*tt.CSM_LEVEL_COUNT,tt.CSM_VIEW_DIR_2_OFFSET=tt.CSM_VIEW_DIR_1_OFFSET+4*tt.CSM_LEVEL_COUNT,tt.CSM_ATLAS_OFFSET=tt.CSM_VIEW_DIR_2_OFFSET+4*tt.CSM_LEVEL_COUNT,tt.MAT_CSM_VIEW_PROJ_OFFSET=tt.CSM_ATLAS_OFFSET+4*tt.CSM_LEVEL_COUNT,tt.CSM_PROJ_DEPTH_INFO_OFFSET=tt.MAT_CSM_VIEW_PROJ_OFFSET+16*tt.CSM_LEVEL_COUNT,tt.CSM_PROJ_INFO_OFFSET=tt.CSM_PROJ_DEPTH_INFO_OFFSET+4*tt.CSM_LEVEL_COUNT,tt.CSM_SPLITS_INFO_OFFSET=tt.CSM_PROJ_INFO_OFFSET+4*tt.CSM_LEVEL_COUNT,tt.COUNT=tt.CSM_SPLITS_INFO_OFFSET+4,tt.SIZE=4*tt.COUNT,tt.NAME="CCCSM",tt.BINDING=Ve.UBO_CSM,tt.DESCRIPTOR=new ie(tt.BINDING,re.UNIFORM_BUFFER,1,Ee.ALL),tt.LAYOUT=new ae(je.GLOBAL,tt.BINDING,tt.NAME,[new Te("cc_csmViewDir0",Oe.FLOAT4,tt.CSM_LEVEL_COUNT),new Te("cc_csmViewDir1",Oe.FLOAT4,tt.CSM_LEVEL_COUNT),new Te("cc_csmViewDir2",Oe.FLOAT4,tt.CSM_LEVEL_COUNT),new Te("cc_csmAtlas",Oe.FLOAT4,tt.CSM_LEVEL_COUNT),new Te("cc_matCSMViewProj",Oe.MAT4,tt.CSM_LEVEL_COUNT),new Te("cc_csmProjDepthInfo",Oe.FLOAT4,tt.CSM_LEVEL_COUNT),new Te("cc_csmProjInfo",Oe.FLOAT4,tt.CSM_LEVEL_COUNT),new Te("cc_csmSplitsInfo",Oe.FLOAT4,1)],1),We.layouts[tt.NAME]=tt.LAYOUT,We.bindings[tt.BINDING]=tt.DESCRIPTOR;var nt=e("p",Ve.SAMPLER_SHADOWMAP),_t=new ie(nt,re.SAMPLER_TEXTURE,1,Ee.FRAGMENT),it=new Fe(je.GLOBAL,nt,"cc_shadowMap",Oe.SAMPLER2D,1);We.layouts.cc_shadowMap=it,We.bindings[nt]=_t;var rt=e("G",Ve.SAMPLER_ENVIRONMENT),Et=new ie(rt,re.SAMPLER_TEXTURE,1,Ee.FRAGMENT),at=new Fe(je.GLOBAL,rt,"cc_environment",Oe.SAMPLER_CUBE,1);We.layouts.cc_environment=at,We.bindings[rt]=Et;var Tt=e("H",Ve.SAMPLER_DIFFUSEMAP),Ot=new ie(Tt,re.SAMPLER_TEXTURE,1,Ee.FRAGMENT),Ft=new Fe(je.GLOBAL,Tt,"cc_diffuseMap",Oe.SAMPLER_CUBE,1);We.layouts.cc_diffuseMap=Ft,We.bindings[Tt]=Ot;var ot=e("q",Ve.SAMPLER_SPOT_SHADOW_MAP),St=new ie(ot,re.SAMPLER_TEXTURE,1,Ee.FRAGMENT),At=new Fe(je.GLOBAL,ot,"cc_spotShadowMap",Oe.SAMPLER2D,1);We.layouts.cc_spotShadowMap=At,We.bindings[ot]=St;var st=e("g",(function(){}));st.MAT_WORLD_OFFSET=0,st.MAT_WORLD_IT_OFFSET=st.MAT_WORLD_OFFSET+16,st.LIGHTINGMAP_UVPARAM=st.MAT_WORLD_IT_OFFSET+16,st.LOCAL_SHADOW_BIAS=st.LIGHTINGMAP_UVPARAM+4,st.COUNT=st.LOCAL_SHADOW_BIAS+4,st.SIZE=4*st.COUNT,st.NAME="CCLocal",st.BINDING=xe.UBO_LOCAL,st.DESCRIPTOR=new ie(st.BINDING,re.UNIFORM_BUFFER,1,Ee.VERTEX|Ee.COMPUTE),st.LAYOUT=new ae(je.LOCAL,st.BINDING,st.NAME,[new Te("cc_matWorld",Oe.MAT4,1),new Te("cc_matWorldIT",Oe.MAT4,1),new Te("cc_lightingMapUVParam",Oe.FLOAT4,1),new Te("cc_localShadowBias",Oe.FLOAT4,1)],1),ke.layouts[st.NAME]=st.LAYOUT,ke.bindings[st.BINDING]=st.DESCRIPTOR;var ct=e("i",(function(){}));ct.WORLD_BOUND_CENTER=0,ct.WORLD_BOUND_HALF_EXTENTS=ct.WORLD_BOUND_CENTER+4,ct.COUNT=ct.WORLD_BOUND_HALF_EXTENTS+4,ct.SIZE=4*ct.COUNT,ct.NAME="CCWorldBound",ct.BINDING=xe.UBO_LOCAL,ct.DESCRIPTOR=new ie(ct.BINDING,re.UNIFORM_BUFFER,1,Ee.VERTEX|Ee.COMPUTE),ct.LAYOUT=new ae(je.LOCAL,ct.BINDING,ct.NAME,[new Te("cc_worldBoundCenter",Oe.FLOAT4,1),new Te("cc_worldBoundHalfExtents",Oe.FLOAT4,1)],1),ke.layouts[ct.NAME]=ct.LAYOUT,ke.bindings[ct.BINDING]=ct.DESCRIPTOR;var It=e("I","a_matWorld0"),Nt=e("E",(function(){}));Nt.BATCHING_COUNT=10,Nt.MAT_WORLDS_OFFSET=0,Nt.COUNT=16*Nt.BATCHING_COUNT,Nt.SIZE=4*Nt.COUNT,Nt.NAME="CCLocalBatched",Nt.BINDING=xe.UBO_LOCAL,Nt.DESCRIPTOR=new ie(Nt.BINDING,re.UNIFORM_BUFFER,1,Ee.VERTEX|Ee.COMPUTE),Nt.LAYOUT=new ae(je.LOCAL,Nt.BINDING,Nt.NAME,[new Te("cc_matWorlds",Oe.MAT4,Nt.BATCHING_COUNT)],1),ke.layouts[Nt.NAME]=Nt.LAYOUT,ke.bindings[Nt.BINDING]=Nt.DESCRIPTOR;var Rt=e("u",(function(){}));Rt.LIGHTS_PER_PASS=1,Rt.LIGHT_POS_OFFSET=0,Rt.LIGHT_COLOR_OFFSET=Rt.LIGHT_POS_OFFSET+4*Rt.LIGHTS_PER_PASS,Rt.LIGHT_SIZE_RANGE_ANGLE_OFFSET=Rt.LIGHT_COLOR_OFFSET+4*Rt.LIGHTS_PER_PASS,Rt.LIGHT_DIR_OFFSET=Rt.LIGHT_SIZE_RANGE_ANGLE_OFFSET+4*Rt.LIGHTS_PER_PASS,Rt.COUNT=Rt.LIGHT_DIR_OFFSET+4*Rt.LIGHTS_PER_PASS,Rt.SIZE=4*Rt.COUNT,Rt.NAME="CCForwardLight",Rt.BINDING=xe.UBO_FORWARD_LIGHTS,Rt.DESCRIPTOR=new ie(Rt.BINDING,re.DYNAMIC_UNIFORM_BUFFER,1,Ee.FRAGMENT),Rt.LAYOUT=new ae(je.LOCAL,Rt.BINDING,Rt.NAME,[new Te("cc_lightPos",Oe.FLOAT4,Rt.LIGHTS_PER_PASS),new Te("cc_lightColor",Oe.FLOAT4,Rt.LIGHTS_PER_PASS),new Te("cc_lightSizeRangeAngle",Oe.FLOAT4,Rt.LIGHTS_PER_PASS),new Te("cc_lightDir",Oe.FLOAT4,Rt.LIGHTS_PER_PASS)],1),ke.layouts[Rt.NAME]=Rt.LAYOUT,ke.bindings[Rt.BINDING]=Rt.DESCRIPTOR;var ut=e("x",(function(){}));ut.LIGHTS_PER_PASS=10;var Lt=e("Z",30),Mt=e("V",(function(){}));Mt.JOINTS_TEXTURE_INFO_OFFSET=0,Mt.COUNT=Mt.JOINTS_TEXTURE_INFO_OFFSET+4,Mt.SIZE=4*Mt.COUNT,Mt.NAME="CCSkinningTexture",Mt.BINDING=xe.UBO_SKINNING_TEXTURE,Mt.DESCRIPTOR=new ie(Mt.BINDING,re.UNIFORM_BUFFER,1,Ee.VERTEX),Mt.LAYOUT=new ae(je.LOCAL,Mt.BINDING,Mt.NAME,[new Te("cc_jointTextureInfo",Oe.FLOAT4,1)],1),ke.layouts[Mt.NAME]=Mt.LAYOUT,ke.bindings[Mt.BINDING]=Mt.DESCRIPTOR;var lt=e("Q",(function(){}));lt.JOINTS_ANIM_INFO_OFFSET=0,lt.COUNT=lt.JOINTS_ANIM_INFO_OFFSET+4,lt.SIZE=4*lt.COUNT,lt.NAME="CCSkinningAnimation",lt.BINDING=xe.UBO_SKINNING_ANIMATION,lt.DESCRIPTOR=new ie(lt.BINDING,re.UNIFORM_BUFFER,1,Ee.VERTEX),lt.LAYOUT=new ae(je.LOCAL,lt.BINDING,lt.NAME,[new Te("cc_jointAnimInfo",Oe.FLOAT4,1)],1),ke.layouts[lt.NAME]=lt.LAYOUT,ke.bindings[lt.BINDING]=lt.DESCRIPTOR;var Pt=e("X","a_jointAnimInfo"),Ct=e("t",function(){function e(){}return e.initLayout=function(t){e._jointUniformCapacity=t,e._count=12*t,e._size=4*e._count,e.LAYOUT.members[0].count=3*t},i(e,null,[{key:"JOINT_UNIFORM_CAPACITY",get:function(){return e._jointUniformCapacity}},{key:"COUNT",get:function(){return e._count}},{key:"SIZE",get:function(){return e._size}}]),e}());function Gt(e){Ct.initLayout(e),ke.layouts[Ct.NAME]=Ct.LAYOUT,ke.bindings[Ct.BINDING]=Ct.DESCRIPTOR}Ct._jointUniformCapacity=0,Ct._count=0,Ct._size=0,Ct.NAME="CCSkinning",Ct.BINDING=xe.UBO_SKINNING_TEXTURE,Ct.DESCRIPTOR=new ie(Ct.BINDING,re.UNIFORM_BUFFER,1,Ee.VERTEX),Ct.LAYOUT=new ae(je.LOCAL,Ct.BINDING,Ct.NAME,[new Te("cc_joints",Oe.FLOAT4,1)],1);var Ut=e("K",(function(){}));Ut.MAX_MORPH_TARGET_COUNT=60,Ut.OFFSET_OF_WEIGHTS=0,Ut.OFFSET_OF_DISPLACEMENT_TEXTURE_WIDTH=4*Ut.MAX_MORPH_TARGET_COUNT,Ut.OFFSET_OF_DISPLACEMENT_TEXTURE_HEIGHT=Ut.OFFSET_OF_DISPLACEMENT_TEXTURE_WIDTH+4,Ut.OFFSET_OF_VERTICES_COUNT=Ut.OFFSET_OF_DISPLACEMENT_TEXTURE_HEIGHT+4,Ut.COUNT_BASE_4_BYTES=4*Math.ceil(Ut.MAX_MORPH_TARGET_COUNT/4)+4,Ut.SIZE=4*Ut.COUNT_BASE_4_BYTES,Ut.NAME="CCMorph",Ut.BINDING=xe.UBO_MORPH,Ut.DESCRIPTOR=new ie(Ut.BINDING,re.UNIFORM_BUFFER,1,Ee.VERTEX),Ut.LAYOUT=new ae(je.LOCAL,Ut.BINDING,Ut.NAME,[new Te("cc_displacementWeights",Oe.FLOAT4,Ut.MAX_MORPH_TARGET_COUNT/4),new Te("cc_displacementTextureInfo",Oe.FLOAT4,1)],1),ke.layouts[Ut.NAME]=Ut.LAYOUT,ke.bindings[Ut.BINDING]=Ut.DESCRIPTOR;var Dt=e("_",(function(){}));Dt.NAME="CCUILocal",Dt.BINDING=xe.UBO_UI_LOCAL,Dt.DESCRIPTOR=new ie(Dt.BINDING,re.DYNAMIC_UNIFORM_BUFFER,1,Ee.VERTEX),Dt.LAYOUT=new ae(je.LOCAL,Dt.BINDING,Dt.NAME,[new Te("cc_local_data",Oe.FLOAT4,1)],1),ke.layouts[Dt.NAME]=Dt.LAYOUT,ke.bindings[Dt.BINDING]=Dt.DESCRIPTOR;var Bt=e("W",xe.SAMPLER_JOINTS),dt=new ie(Bt,re.SAMPLER_TEXTURE,1,Ee.VERTEX),gt=new Fe(je.LOCAL,Bt,"cc_jointTexture",Oe.SAMPLER2D,1);ke.layouts.cc_jointTexture=gt,ke.bindings[Bt]=dt;var mt=e("T",xe.SAMPLER_JOINTS),wt=new ie(mt,re.SAMPLER_TEXTURE,1,Ee.VERTEX),ft=new Fe(je.LOCAL,mt,"cc_realtimeJoint",Oe.SAMPLER2D,1);ke.layouts.cc_realtimeJoint=ft,ke.bindings[mt]=wt;var pt=e("O",xe.SAMPLER_MORPH_POSITION),vt=new ie(pt,re.SAMPLER_TEXTURE,1,Ee.VERTEX),ht=new Fe(je.LOCAL,pt,"cc_PositionDisplacements",Oe.SAMPLER2D,1);ke.layouts.cc_PositionDisplacements=ht,ke.bindings[pt]=vt;var yt=e("N",xe.SAMPLER_MORPH_NORMAL),bt=new ie(yt,re.SAMPLER_TEXTURE,1,Ee.VERTEX),Xt=new Fe(je.LOCAL,yt,"cc_NormalDisplacements",Oe.SAMPLER2D,1);ke.layouts.cc_NormalDisplacements=Xt,ke.bindings[yt]=bt;var Ht=e("M",xe.SAMPLER_MORPH_TANGENT),Vt=new ie(Ht,re.SAMPLER_TEXTURE,1,Ee.VERTEX),Wt=new Fe(je.LOCAL,Ht,"cc_TangentDisplacements",Oe.SAMPLER2D,1);ke.layouts.cc_TangentDisplacements=Wt,ke.bindings[Ht]=Vt;var kt=e("h",xe.SAMPLER_LIGHTMAP),xt=new ie(kt,re.SAMPLER_TEXTURE,1,Ee.FRAGMENT),Jt=new Fe(je.LOCAL,kt,"cc_lightingMap",Oe.SAMPLER2D,1);ke.layouts.cc_lightingMap=Jt,ke.bindings[kt]=xt;var Yt=xe.SAMPLER_SPRITE,jt=new ie(Yt,re.SAMPLER_TEXTURE,1,Ee.FRAGMENT),zt=new Fe(je.LOCAL,Yt,"cc_spriteTexture",Oe.SAMPLER2D,1);ke.layouts.cc_spriteTexture=zt,ke.bindings[Yt]=jt;var Kt=e("U",xe.SAMPLER_REFLECTION),Zt=new ie(Kt,re.SAMPLER_TEXTURE,1,Ee.FRAGMENT),qt=new Fe(je.LOCAL,Kt,"cc_reflectionTexture",Oe.SAMPLER2D,1);ke.layouts.cc_reflectionTexture=qt,ke.bindings[Kt]=Zt;var Qt=e("f",xe.STORAGE_REFLECTION),$t=new ie(Qt,re.STORAGE_IMAGE,1,Ee.COMPUTE),en=new oe(je.LOCAL,Qt,"cc_reflectionStorage",Oe.IMAGE2D,1);ke.layouts.cc_reflectionStorage=en,ke.bindings[Qt]=$t;var tn=e("C",ve.makeMaskExclude([ve.BitMask.UI_2D,ve.BitMask.GIZMOS,ve.BitMask.EDITOR,ve.BitMask.SCENE_GIZMO,ve.BitMask.PROFILER])),nn=ve.makeMaskExclude([ve.BitMask.UI_2D,ve.BitMask.PROFILER]),_n=ve.Enum.ALL;function rn(e){return(e.getFormatFeatures(Se.R32F)&(Ae.RENDER_TARGET|Ae.SAMPLED_TEXTURE))==(Ae.RENDER_TARGET|Ae.SAMPLED_TEXTURE)&&!(e.gfxAPI===se.WEBGL)}e("b",Object.freeze({__proto__:null,PIPELINE_FLOW_MAIN:be,PIPELINE_FLOW_FORWARD:Xe,PIPELINE_FLOW_SHADOW:He,PIPELINE_FLOW_SMAA:"SMAAFlow",PIPELINE_FLOW_TONEMAP:"ToneMapFlow",get RenderPassStage(){return he},get RenderPriority(){return ye},globalDescriptorSetLayout:We,localDescriptorSetLayout:ke,get PipelineGlobalBindings(){return Ve},get ModelLocalBindings(){return xe},get SetIndex(){return je},bindingMappingInfo:qe,UBOGlobal:Qe,UBOCamera:$e,UBOShadow:et,UBOCSM:tt,UNIFORM_SHADOWMAP_BINDING:nt,UNIFORM_ENVIRONMENT_BINDING:rt,UNIFORM_DIFFUSEMAP_BINDING:Tt,UNIFORM_SPOT_SHADOW_MAP_TEXTURE_BINDING:ot,UBOLocal:st,UBOWorldBound:ct,INST_MAT_WORLD:It,UBOLocalBatched:Nt,UBOForwardLight:Rt,UBODeferredLight:ut,JOINT_UNIFORM_CAPACITY:Lt,UBOSkinningTexture:Mt,UBOSkinningAnimation:lt,INST_JOINT_ANIM_INFO:Pt,UBOSkinning:Ct,localDescriptorSetLayout_ResizeMaxJoints:Gt,UBOMorph:Ut,UBOUILocal:Dt,UNIFORM_JOINT_TEXTURE_BINDING:Bt,UNIFORM_REALTIME_JOINT_TEXTURE_BINDING:mt,UNIFORM_POSITION_MORPH_TEXTURE_BINDING:pt,UNIFORM_NORMAL_MORPH_TEXTURE_BINDING:yt,UNIFORM_TANGENT_MORPH_TEXTURE_BINDING:Ht,UNIFORM_LIGHTMAP_TEXTURE_BINDING:kt,UNIFORM_SPRITE_TEXTURE_BINDING:Yt,UNIFORM_REFLECTION_TEXTURE_BINDING:Kt,UNIFORM_REFLECTION_STORAGE_BINDING:Qt,CAMERA_DEFAULT_MASK:tn,CAMERA_EDITOR_MASK:nn,MODEL_ALWAYS_MASK:_n,supportsR16HalfFloatTexture:function(e){return(e.getFormatFeatures(Se.R16F)&(Ae.RENDER_TARGET|Ae.SAMPLED_TEXTURE))==(Ae.RENDER_TARGET|Ae.SAMPLED_TEXTURE)},supportsR32FloatTexture:rn})),e("P",function(){function e(){}return e.getOrCreatePipelineState=function(e,t,n,_,i){var r=t.hash^_.hash^i.attributesHash^n.typedID,E=this._PSOHashMap.get(r);if(!E){var a=t.pipelineLayout,T=new ce(i.attributes),O=new V(n,a,_,T,t.rasterizerState,t.depthStencilState,t.blendState,t.primitive,t.dynamicStates);E=e.createPipelineState(O),this._PSOHashMap.set(r,E)}return E},e}())._PSOHashMap=new Map}}}));
